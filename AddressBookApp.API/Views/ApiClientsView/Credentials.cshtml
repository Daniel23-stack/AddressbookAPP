@model AddressBookApp.Application.DTOs.ApiClientCredentialsDto

@{
    ViewData["Title"] = "API Client Credentials";
}

<div class="container">
    <div class="row mb-4">
        <div class="col">
            <h1>API Client Credentials</h1>
            <p class="lead text-danger">Important: Save these credentials now. They will not be shown again.</p>
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">API Credentials</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-warning">
                        <strong>Warning:</strong> These credentials will only be shown once. Please save them in a secure location.
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">API Key</label>
                        <div class="input-group">
                            <input type="text" class="form-control" value="@Model.ApiKey" id="apiKey" readonly />
                            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('apiKey')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">API Secret</label>
                        <div class="input-group">
                            <input type="text" class="form-control" value="@Model.ApiSecret" id="apiSecret" readonly />
                            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('apiSecret')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                        </div>
                    </div>
                    
                    <h5 class="mt-4">How to Use</h5>
                    <p>Include these credentials in the headers of your API requests:</p>
                    <pre><code>X-Api-Key: @Model.ApiKey
X-Api-Secret: @Model.ApiSecret</code></pre>
                    
                    <h5 class="mt-4">Example Request</h5>
                    <pre><code>curl -X GET "https://your-domain.com/api/external/contacts" \
-H "X-Api-Key: @Model.ApiKey" \
-H "X-Api-Secret: @Model.ApiSecret"</code></pre>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col">
            <a asp-action="Index" class="btn btn-primary">Back to API Clients</a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function copyToClipboard(elementId) {
            var copyText = document.getElementById(elementId);
            copyText.select();
            copyText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyText.value);
            
            // Show a temporary tooltip
            alert('Copied to clipboard: ' + copyText.value);
        }
    </script>
}
